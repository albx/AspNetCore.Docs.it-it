---
title: File web.config
author: rick-anderson
description: Scoprire che cosa si trova all'interno del file di web.config e come configurare diverse opzioni del modulo di ASP.NET Core.
monikerRange: '>= aspnetcore-5.0'
ms.author: riande
ms.custom: mvc
ms.date: 02/07/2020
no-loc:
- appsettings.json
- ASP.NET Core Identity
- cookie
- Cookie
- Blazor
- Blazor Server
- Blazor WebAssembly
- Identity
- Let's Encrypt
- Razor
- SignalR
uid: host-and-deploy/iis/web-config
ms.openlocfilehash: edeef31042547db79fcec98f1236787f78e187a5
ms.sourcegitcommit: 3593c4efa707edeaaceffbfa544f99f41fc62535
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/04/2021
ms.locfileid: "93057284"
---
# <a name="webconfig-file"></a><span data-ttu-id="ef5ec-103">File `web.config`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-103">`web.config` file</span></span>

<span data-ttu-id="ef5ec-104">`web.config`È un file letto da IIS e il [modulo ASP.NET Core](xref:host-and-deploy/aspnet-core-module) per configurare un'app ospitata con IIS.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-104">The `web.config` is a file that is read by IIS and the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) to configure an app hosted with IIS.</span></span>

## <a name="webconfig-file-location"></a><span data-ttu-id="ef5ec-105">`web.config` percorso file</span><span class="sxs-lookup"><span data-stu-id="ef5ec-105">`web.config` file location</span></span>

<span data-ttu-id="ef5ec-106">Per configurare correttamente il [modulo ASP.NET Core](xref:host-and-deploy/aspnet-core-module) , il `web.config` file deve essere presente nel percorso [radice del contenuto](xref:fundamentals/index#content-root) (in genere il percorso di base dell'app) dell'app distribuita.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-106">In order to set up the [ASP.NET Core Module](xref:host-and-deploy/aspnet-core-module) correctly, the `web.config` file must be present at the [content root](xref:fundamentals/index#content-root) path (typically the app base path) of the deployed app.</span></span> <span data-ttu-id="ef5ec-107">Corrisponde al percorso fisico del sito Web fornito a IIS.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-107">This is the same location as the website physical path provided to IIS.</span></span> <span data-ttu-id="ef5ec-108">Il `web.config` file è necessario alla radice dell'app per abilitare la pubblicazione di più app usando distribuzione Web.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-108">The `web.config` file is required at the root of the app to enable the publishing of multiple apps using Web Deploy.</span></span>

<span data-ttu-id="ef5ec-109">I file sensibili sono presenti nel percorso fisico dell'app, ad esempio `{ASSEMBLY}.runtimeconfig.json` , `{ASSEMBLY}.xml` (commenti in formato documentazione XML) e `{ASSEMBLY}.deps.json` , dove il segnaposto `{ASSEMBLY}` è il nome dell'assembly.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-109">Sensitive files exist on the app's physical path, such as `{ASSEMBLY}.runtimeconfig.json`, `{ASSEMBLY}.xml` (XML Documentation comments), and `{ASSEMBLY}.deps.json`, where the placeholder `{ASSEMBLY}` is the assembly name.</span></span> <span data-ttu-id="ef5ec-110">Quando il `web.config` file è presente e il sito viene avviato normalmente, in IIS questi file riservati non vengono utilizzati se richiesti.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-110">When the `web.config` file is present and the site starts normally, IIS doesn't serve these sensitive files if they're requested.</span></span> <span data-ttu-id="ef5ec-111">Se il `web.config` file è mancante, denominato in modo non corretto o non è in grado di configurare il sito per l'avvio normale, è possibile che in IIS vengano utilizzati pubblicamente file riservati.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-111">If the `web.config` file is missing, incorrectly named, or unable to configure the site for normal startup, IIS may serve sensitive files publicly.</span></span>

<span data-ttu-id="ef5ec-112">**Il `web.config` file deve essere presente nella distribuzione in qualsiasi momento, denominato correttamente e in grado di configurare il sito per l'avvio normale. Non rimuovere mai il `web.config` file da una distribuzione di produzione.**</span><span class="sxs-lookup"><span data-stu-id="ef5ec-112">**The `web.config` file must be present in the deployment at all times, correctly named, and able to configure the site for normal start up. Never remove the `web.config` file from a production deployment.**</span></span>

<span data-ttu-id="ef5ec-113">Se un `web.config` file non è presente nel progetto, il file viene creato con il corretto `processPath` e `arguments` per configurare il modulo ASP.NET Core e spostato nell' [output pubblicato](xref:host-and-deploy/directory-structure).</span><span class="sxs-lookup"><span data-stu-id="ef5ec-113">If a `web.config` file isn't present in the project, the file is created with the correct `processPath` and `arguments` to configure the ASP.NET Core Module and moved to [published output](xref:host-and-deploy/directory-structure).</span></span>

<span data-ttu-id="ef5ec-114">Se un `web.config` file è presente nel progetto, il file viene trasformato con il corretto `processPath` e `arguments` per configurare il modulo ASP.NET Core e spostato nell'output pubblicato.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-114">If a `web.config` file is present in the project, the file is transformed with the correct `processPath` and `arguments` to configure the ASP.NET Core Module and moved to published output.</span></span> <span data-ttu-id="ef5ec-115">La trasformazione non modifica le impostazioni di configurazione di IIS incluse nel file.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-115">The transformation doesn't modify IIS configuration settings in the file.</span></span>

<span data-ttu-id="ef5ec-116">Il `web.config` file può fornire impostazioni di configurazione di IIS aggiuntive che controllano i moduli IIS attivi.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-116">The `web.config` file may provide additional IIS configuration settings that control active IIS modules.</span></span> <span data-ttu-id="ef5ec-117">Per informazioni sui moduli IIS in grado di elaborare le richieste con le app di ASP.NET Core, vedere l'argomento [Moduli IIS](xref:host-and-deploy/iis/modules).</span><span class="sxs-lookup"><span data-stu-id="ef5ec-117">For information on IIS modules that are capable of processing requests with ASP.NET Core apps, see the [IIS modules](xref:host-and-deploy/iis/modules) topic.</span></span>

<span data-ttu-id="ef5ec-118">La creazione, la trasformazione e la pubblicazione del `web.config` file vengono gestite da una destinazione MSBuild ( `_TransformWebConfig` ) quando viene pubblicato il progetto.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-118">Creating, transforming, and publishing the `web.config` file is handled by an MSBuild target (`_TransformWebConfig`) when the project is published.</span></span> <span data-ttu-id="ef5ec-119">Questa destinazione si trova tra le destinazioni Web SDK (`Microsoft.NET.Sdk.Web`).</span><span class="sxs-lookup"><span data-stu-id="ef5ec-119">This target is present in the Web SDK targets (`Microsoft.NET.Sdk.Web`).</span></span> <span data-ttu-id="ef5ec-120">L'SDK è impostato all'inizio del file di progetto:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-120">The SDK is set at the top of the project file:</span></span>

```xml
<Project Sdk="Microsoft.NET.Sdk.Web">
```

<span data-ttu-id="ef5ec-121">Per impedire a Web SDK di trasformare il `web.config` file, usare la `<IsTransformWebConfigDisabled>` proprietà nel file di progetto:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-121">To prevent the Web SDK from transforming the `web.config` file, use the `<IsTransformWebConfigDisabled>` property in the project file:</span></span>

```xml
<PropertyGroup>
  <IsTransformWebConfigDisabled>true</IsTransformWebConfigDisabled>
</PropertyGroup>
```

<span data-ttu-id="ef5ec-122">Quando si disabilita il Web SDK dalla trasformazione del file, `processPath` `arguments` è necessario impostare manualmente lo sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-122">When disabling the Web SDK from transforming the file, the `processPath` and `arguments` should be manually set by the developer.</span></span> <span data-ttu-id="ef5ec-123">Per altre informazioni, vedere <xref:host-and-deploy/aspnet-core-module>.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-123">For more information, see <xref:host-and-deploy/aspnet-core-module>.</span></span>

## <a name="configuration-of-aspnet-core-module-with-webconfig"></a><span data-ttu-id="ef5ec-124">Configurazione del modulo ASP.NET Core con `web.config`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-124">Configuration of ASP.NET Core Module with `web.config`</span></span>

<span data-ttu-id="ef5ec-125">Il modulo ASP.NET Core viene configurato con la `aspNetCore` sezione del `system.webServer` nodo nel file del sito `web.config` .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-125">The ASP.NET Core Module is configured with the `aspNetCore` section of the `system.webServer` node in the site's `web.config` file.</span></span>

<span data-ttu-id="ef5ec-126">Il `web.config` file seguente viene pubblicato per una [distribuzione dipendente dal Framework](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) e configura il modulo ASP.NET Core per gestire le richieste del sito:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-126">The following `web.config` file is published for a [framework-dependent deployment](/dotnet/articles/core/deploying/#framework-dependent-deployments-fdd) and configures the ASP.NET Core Module to handle site requests:</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <location path="." inheritInChildApplications="false">
    <system.webServer>
      <handlers>
        <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
      </handlers>
      <aspNetCore processPath="dotnet"
                  arguments=".\MyApp.dll"
                  stdoutLogEnabled="false"
                  stdoutLogFile=".\logs\stdout"
                  hostingModel="inprocess" />
    </system.webServer>
  </location>
</configuration>
```

<span data-ttu-id="ef5ec-127">`web.config`Per una [distribuzione autonoma](/dotnet/articles/core/deploying/#self-contained-deployments-scd), viene pubblicato il codice seguente:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-127">The following `web.config` is published for a [self-contained deployment](/dotnet/articles/core/deploying/#self-contained-deployments-scd):</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
  <location path="." inheritInChildApplications="false">
    <system.webServer>
      <handlers>
        <add name="aspNetCore" path="*" verb="*" modules="AspNetCoreModuleV2" resourceType="Unspecified" />
      </handlers>
      <aspNetCore processPath=".\MyApp.exe"
                  stdoutLogEnabled="false"
                  stdoutLogFile=".\logs\stdout"
                  hostingModel="inprocess" />
    </system.webServer>
  </location>
</configuration>
```

<span data-ttu-id="ef5ec-128">La <xref:System.Configuration.SectionInformation.InheritInChildApplications%2A> proprietà è impostata su `false` per indicare che le impostazioni specificate all'interno dell' [`<location>`](/iis/manage/managing-your-configuration-settings/understanding-iis-configuration-delegation#the-concept-of-location) elemento non vengono ereditate da app che si trovano in una sottodirectory dell'app.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-128">The <xref:System.Configuration.SectionInformation.InheritInChildApplications%2A> property is set to `false` to indicate that the settings specified within the [`<location>`](/iis/manage/managing-your-configuration-settings/understanding-iis-configuration-delegation#the-concept-of-location) element aren't inherited by apps that reside in a subdirectory of the app.</span></span>

<span data-ttu-id="ef5ec-129">Quando un'app viene distribuita in [Servizio app di Azure](https://azure.microsoft.com/services/app-service/), il percorso `stdoutLogFile` è impostato su `\\?\%home%\LogFiles\stdout`.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-129">When an app is deployed to [Azure App Service](https://azure.microsoft.com/services/app-service/), the `stdoutLogFile` path is set to `\\?\%home%\LogFiles\stdout`.</span></span> <span data-ttu-id="ef5ec-130">Il percorso Salva i log stdout nella `LogFiles` cartella, che è un percorso creato automaticamente dal servizio.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-130">The path saves stdout logs to the `LogFiles` folder, which is a location automatically created by the service.</span></span>

<span data-ttu-id="ef5ec-131">Per informazioni sulla configurazione delle applicazioni secondarie IIS, vedere <xref:host-and-deploy/iis/index#sub-applications>.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-131">For information on IIS sub-application configuration, see <xref:host-and-deploy/iis/index#sub-applications>.</span></span>

### <a name="attributes-of-the-aspnetcore-element"></a><span data-ttu-id="ef5ec-132">Attributi dell' `aspNetCore` elemento</span><span class="sxs-lookup"><span data-stu-id="ef5ec-132">Attributes of the `aspNetCore` element</span></span>

| <span data-ttu-id="ef5ec-133">Attributo</span><span class="sxs-lookup"><span data-stu-id="ef5ec-133">Attribute</span></span> | <span data-ttu-id="ef5ec-134">Descrizione</span><span class="sxs-lookup"><span data-stu-id="ef5ec-134">Description</span></span> | <span data-ttu-id="ef5ec-135">Predefinito</span><span class="sxs-lookup"><span data-stu-id="ef5ec-135">Default</span></span> |
| --------- | ----------- | :-----: |
| `arguments` | <p><span data-ttu-id="ef5ec-136">Attributo stringa facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-136">Optional string attribute.</span></span></p><p><span data-ttu-id="ef5ec-137">Argomenti per il file eseguibile specificato in `processPath` .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-137">Arguments to the executable specified in `processPath`.</span></span></p> | |
| `disableStartUpErrorPage` | <p><span data-ttu-id="ef5ec-138">Attributo booleano facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-138">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="ef5ec-139">Se è true, la pagina di **errore 502,5-Process** viene eliminata e la tabella codici di stato 502 configurata in ha la `web.config` precedenza.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-139">If true, the **502.5 - Process Failure** page is suppressed, and the 502 status code page configured in the `web.config` takes precedence.</span></span></p> | `false` |
| `forwardWindowsAuthToken` | <p><span data-ttu-id="ef5ec-140">Attributo booleano facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-140">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="ef5ec-141">Se true, il token viene inviato al processo figlio in ascolto `%ASPNETCORE_PORT%` come intestazione ' MS-ASPNETCORE-WINAUTHTOKEN ' per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-141">If true, the token is forwarded to the child process listening on `%ASPNETCORE_PORT%` as a header 'MS-ASPNETCORE-WINAUTHTOKEN' per request.</span></span> <span data-ttu-id="ef5ec-142">È responsabilità del processo chiamare CloseHandle su questo token per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-142">It's the responsibility of that process to call CloseHandle on this token per request.</span></span></p> | `true` |
| `hostingModel` | <p><span data-ttu-id="ef5ec-143">Attributo stringa facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-143">Optional string attribute.</span></span></p><p><span data-ttu-id="ef5ec-144">Specifica il modello di hosting come in-process ( `InProcess` / `inprocess` ) o out-of-process ( `OutOfProcess` / `outofprocess` ).</span><span class="sxs-lookup"><span data-stu-id="ef5ec-144">Specifies the hosting model as in-process (`InProcess`/`inprocess`) or out-of-process (`OutOfProcess`/`outofprocess`).</span></span></p> | `InProcess`<br>`inprocess` |
| `processesPerApplication` | <p><span data-ttu-id="ef5ec-145">Attributo Integer facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-145">Optional integer attribute.</span></span></p><p><span data-ttu-id="ef5ec-146">Specifica il numero di istanze del processo specificato nell' `processPath` impostazione che è possibile creare per ogni app.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-146">Specifies the number of instances of the process specified in the `processPath` setting that can be spun up per app.</span></span></p><p><span data-ttu-id="ef5ec-147">&dagger;Per l'hosting in-process, il valore è limitato a `1`.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-147">&dagger;For in-process hosting, the value is limited to `1`.</span></span></p><p><span data-ttu-id="ef5ec-148">L'impostazione di `processesPerApplication` è sconsigliata.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-148">Setting `processesPerApplication` is discouraged.</span></span> <span data-ttu-id="ef5ec-149">Questo attributo sarà rimosso nelle versioni future.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-149">This attribute will be removed in a future release.</span></span></p> | <span data-ttu-id="ef5ec-150">Valore predefinito: `1`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-150">Default: `1`</span></span><br><span data-ttu-id="ef5ec-151">Min: `1`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-151">Min: `1`</span></span><br><span data-ttu-id="ef5ec-152">Max: `100`&dagger;</span><span class="sxs-lookup"><span data-stu-id="ef5ec-152">Max: `100`&dagger;</span></span> |
| `processPath` | <p><span data-ttu-id="ef5ec-153">Attributo stringa obbligatorio.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-153">Required string attribute.</span></span></p><p><span data-ttu-id="ef5ec-154">Percorso del file eseguibile che avvia un processo in ascolto delle richieste HTTP.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-154">Path to the executable that launches a process listening for HTTP requests.</span></span> <span data-ttu-id="ef5ec-155">I percorsi relativi sono supportati.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-155">Relative paths are supported.</span></span> <span data-ttu-id="ef5ec-156">Se il percorso inizia con `.`, viene considerato relativo alla radice del sito.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-156">If the path begins with `.`, the path is considered to be relative to the site root.</span></span></p> | |
| `rapidFailsPerMinute` | <p><span data-ttu-id="ef5ec-157">Attributo Integer facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-157">Optional integer attribute.</span></span></p><p><span data-ttu-id="ef5ec-158">Specifica il numero di volte in cui il processo specificato in `processPath` può arrestarsi in modo anomalo al minuto.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-158">Specifies the number of times the process specified in `processPath` is allowed to crash per minute.</span></span> <span data-ttu-id="ef5ec-159">Se questo limite viene superato, il modulo smette di avviare il processo per la parte restante del minuto.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-159">If this limit is exceeded, the module stops launching the process for the remainder of the minute.</span></span></p><p><span data-ttu-id="ef5ec-160">Non supportato con l'hosting in-process.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-160">Not supported with in-process hosting.</span></span></p> | <span data-ttu-id="ef5ec-161">Valore predefinito: `10`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-161">Default: `10`</span></span><br><span data-ttu-id="ef5ec-162">Min: `0`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-162">Min: `0`</span></span><br><span data-ttu-id="ef5ec-163">Max: `100`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-163">Max: `100`</span></span> |
| `requestTimeout` | <p><span data-ttu-id="ef5ec-164">Attributo Timespan facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-164">Optional timespan attribute.</span></span></p><p><span data-ttu-id="ef5ec-165">Specifica la durata per cui il modulo ASP.NET Core attende una risposta dal processo in ascolto su %ASPNETCORE_PORT%.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-165">Specifies the duration for which the ASP.NET Core Module waits for a response from the process listening on %ASPNETCORE_PORT%.</span></span></p><p><span data-ttu-id="ef5ec-166">Nelle versioni del modulo ASP.NET Core fornito con ASP.NET Core 2.1 o versioni successive, `requestTimeout` viene specificato in ore, minuti e secondi.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-166">In versions of the ASP.NET Core Module that shipped with the release of ASP.NET Core 2.1 or later, the `requestTimeout` is specified in hours, minutes, and seconds.</span></span></p><p><span data-ttu-id="ef5ec-167">Non è applicabile all'hosting in-process.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-167">Doesn't apply to in-process hosting.</span></span> <span data-ttu-id="ef5ec-168">Per l'hosting in-process, il modulo resta in attesa che l'app elabori la richiesta.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-168">For in-process hosting, the module waits for the app to process the request.</span></span></p><p><span data-ttu-id="ef5ec-169">I valori validi per i segmenti della stringa relativi a minuti e secondi sono compresi nell'intervallo tra 0 e 59.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-169">Valid values for minutes and seconds segments of the string are in the range 0-59.</span></span> <span data-ttu-id="ef5ec-170">L'utilizzo di `60` nel valore per minuti o secondi restituisce un *errore 500 interno del server*.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-170">Use of `60` in the value for minutes or seconds results in a *500 - Internal Server Error*.</span></span></p> | <span data-ttu-id="ef5ec-171">Valore predefinito: `00:02:00`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-171">Default: `00:02:00`</span></span><br><span data-ttu-id="ef5ec-172">Min: `00:00:00`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-172">Min: `00:00:00`</span></span><br><span data-ttu-id="ef5ec-173">Max: `360:00:00`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-173">Max: `360:00:00`</span></span> |
| `shutdownTimeLimit` | <p><span data-ttu-id="ef5ec-174">Attributo Integer facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-174">Optional integer attribute.</span></span></p><p><span data-ttu-id="ef5ec-175">Durata in secondi durante la quale il modulo attende che l'eseguibile venga arrestato normalmente quando `app_offline.htm` viene rilevato il file.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-175">Duration in seconds that the module waits for the executable to gracefully shutdown when the `app_offline.htm` file is detected.</span></span></p> | <span data-ttu-id="ef5ec-176">Valore predefinito: `10`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-176">Default: `10`</span></span><br><span data-ttu-id="ef5ec-177">Min: `0`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-177">Min: `0`</span></span><br><span data-ttu-id="ef5ec-178">Max: `600`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-178">Max: `600`</span></span> |
| `startupTimeLimit` | <p><span data-ttu-id="ef5ec-179">Attributo Integer facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-179">Optional integer attribute.</span></span></p><p><span data-ttu-id="ef5ec-180">Durata in secondi per cui il modulo attende l'avvio di un processo in ascolto sulla porta da parte del file eseguibile.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-180">Duration in seconds that the module waits for the executable to start a process listening on the port.</span></span> <span data-ttu-id="ef5ec-181">Se questo limite di tempo viene superato, il modulo termina il processo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-181">If this time limit is exceeded, the module kills the process.</span></span></p><p><span data-ttu-id="ef5ec-182">Quando si esegue l'hosting *in-process*: il processo **non** viene riavviato **e non usa** l' `rapidFailsPerMinute` impostazione.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-182">When hosting *in-process*: The process is **not** restarted and does **not** use the `rapidFailsPerMinute` setting.</span></span></p><p><span data-ttu-id="ef5ec-183">Quando si esegue l'hosting *out-of-process*: il modulo tenta di riavviare il processo quando riceve una nuova richiesta e continua a provare a riavviare il processo per le successive richieste in ingresso, a meno che l'app non riesca ad avviare il `rapidFailsPerMinute` numero di volte nell'ultimo minuto in sequenza.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-183">When hosting *out-of-process*: The module attempts to relaunch the process when it receives a new request and continues to attempt to restart the process on subsequent incoming requests unless the app fails to start `rapidFailsPerMinute` number of times in the last rolling minute.</span></span></p><p><span data-ttu-id="ef5ec-184">Un valore pari a 0 (zero) **non** è considerato un timeout infinito.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-184">A value of 0 (zero) is **not** considered an infinite timeout.</span></span></p> | <span data-ttu-id="ef5ec-185">Valore predefinito: `120`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-185">Default: `120`</span></span><br><span data-ttu-id="ef5ec-186">Min: `0`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-186">Min: `0`</span></span><br><span data-ttu-id="ef5ec-187">Max: `3600`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-187">Max: `3600`</span></span> |
| `stdoutLogEnabled` | <p><span data-ttu-id="ef5ec-188">Attributo booleano facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-188">Optional Boolean attribute.</span></span></p><p><span data-ttu-id="ef5ec-189">Se true, `stdout` e `stderr` per il processo specificato in `processPath` vengono reindirizzati al file specificato in `stdoutLogFile` .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-189">If true, `stdout` and `stderr` for the process specified in `processPath` are redirected to the file specified in `stdoutLogFile`.</span></span></p> | `false` |
| `stdoutLogFile` | <p><span data-ttu-id="ef5ec-190">Attributo stringa facoltativo.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-190">Optional string attribute.</span></span></p><p><span data-ttu-id="ef5ec-191">Specifica il percorso del file relativo o assoluto per `stdout` cui `stderr` vengono registrati e dal processo specificato in `processPath` .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-191">Specifies the relative or absolute file path for which `stdout` and `stderr` from the process specified in `processPath` are logged.</span></span> <span data-ttu-id="ef5ec-192">I percorsi relativi sono relativi alla radice del sito.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-192">Relative paths are relative to the root of the site.</span></span> <span data-ttu-id="ef5ec-193">Qualsiasi percorso che inizia con `.` è relativo al sito radice e tutti gli altri percorsi vengono trattati come percorsi assoluti.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-193">Any path starting with `.` are relative to the site root and all other paths are treated as absolute paths.</span></span> <span data-ttu-id="ef5ec-194">Le eventuali cartelle specificate nel percorso vengono create dal modulo quando viene creato il file di log.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-194">Any folders provided in the path are created by the module when the log file is created.</span></span> <span data-ttu-id="ef5ec-195">L'utilizzo di delimitatori di sottolineatura, timestamp, ID processo ed estensione di file ( `.log` ) viene aggiunto all'ultimo segmento del `stdoutLogFile` percorso.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-195">Using underscore delimiters, a timestamp, process ID, and file extension (`.log`) are added to the last segment of the `stdoutLogFile` path.</span></span> <span data-ttu-id="ef5ec-196">Se `.\logs\stdout` viene fornito come valore, un esempio di log stdout viene salvato come `stdout_20180205194132_1934.log` nella `logs` cartella quando viene salvato il 2/5/2018 alle 19:41:32 con l'ID di processo 1934.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-196">If `.\logs\stdout` is supplied as a value, an example stdout log is saved as `stdout_20180205194132_1934.log` in the `logs` folder when saved on 2/5/2018 at 19:41:32 with a process ID of 1934.</span></span></p> | `aspnetcore-stdout` |

### <a name="set-environment-variables"></a><span data-ttu-id="ef5ec-197">Impostare le variabili di ambiente</span><span class="sxs-lookup"><span data-stu-id="ef5ec-197">Set environment variables</span></span>

<span data-ttu-id="ef5ec-198">È possibile specificare le variabili di ambiente per il processo nell'attributo `processPath`.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-198">Environment variables can be specified for the process in the `processPath` attribute.</span></span> <span data-ttu-id="ef5ec-199">Specificare una variabile di ambiente con l'elemento figlio `<environmentVariable>` di un elemento della raccolta `<environmentVariables>`.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-199">Specify an environment variable with the `<environmentVariable>` child element of an `<environmentVariables>` collection element.</span></span> <span data-ttu-id="ef5ec-200">Le variabili di ambiente impostate in questa sezione hanno la precedenza sulle variabili di ambiente di sistema.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-200">Environment variables set in this section take precedence over system environment variables.</span></span>

<span data-ttu-id="ef5ec-201">Nell'esempio seguente vengono impostate due variabili di ambiente in `web.config` .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-201">The following example sets two environment variables in `web.config`.</span></span> <span data-ttu-id="ef5ec-202">`ASPNETCORE_ENVIRONMENT` configura l'ambiente dell'app su `Development`.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-202">`ASPNETCORE_ENVIRONMENT` configures the app's environment to `Development`.</span></span> <span data-ttu-id="ef5ec-203">Uno sviluppatore può impostare temporaneamente questo valore nel `web.config` file per forzare il caricamento della [pagina delle eccezioni](xref:fundamentals/error-handling) per gli sviluppatori durante il debug di un'eccezione dell'app.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-203">A developer may temporarily set this value in the `web.config` file in order to force the [Developer Exception Page](xref:fundamentals/error-handling) to load when debugging an app exception.</span></span> <span data-ttu-id="ef5ec-204">`CONFIG_DIR` è un esempio di variabile di ambiente definita dall'utente, in cui lo sviluppatore ha scritto il codice che legge il valore all'avvio in modo da formare un percorso per il caricamento del file di configurazione dell'app.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-204">`CONFIG_DIR` is an example of a user-defined environment variable, where the developer has written code that reads the value on startup to form a path for loading the app's configuration file.</span></span>

```xml
<aspNetCore processPath="dotnet"
      arguments=".\MyApp.dll"
      stdoutLogEnabled="false"
      stdoutLogFile=".\logs\stdout"
      hostingModel="inprocess">
  <environmentVariables>
    <environmentVariable name="ASPNETCORE_ENVIRONMENT" value="Development" />
    <environmentVariable name="CONFIG_DIR" value="f:\application_config" />
  </environmentVariables>
</aspNetCore>
```

> [!NOTE]
> <span data-ttu-id="ef5ec-205">Un'alternativa all'impostazione dell'ambiente direttamente in `web.config` consiste nell'includere la `<EnvironmentName>` proprietà nel file di progetto o nel [profilo di pubblicazione `.pubxml` ](xref:host-and-deploy/visual-studio-publish-profiles) .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-205">An alternative to setting the environment directly in `web.config` is to include the `<EnvironmentName>` property in the [publish profile (`.pubxml`)](xref:host-and-deploy/visual-studio-publish-profiles) or project file.</span></span> <span data-ttu-id="ef5ec-206">Questo approccio imposta l'ambiente in `web.config` quando viene pubblicato il progetto:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-206">This approach sets the environment in `web.config` when the project is published:</span></span>
>
> ```xml
> <PropertyGroup>
>   <EnvironmentName>Development</EnvironmentName>
> </PropertyGroup>
> ```

> [!WARNING]
> <span data-ttu-id="ef5ec-207">Impostare la variabile di ambiente `ASPNETCORE_ENVIRONMENT` su `Development` solo in server di gestione temporanea e test che non sono accessibili da reti non attendibili, ad esempio Internet.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-207">Only set the `ASPNETCORE_ENVIRONMENT` environment variable to `Development` on staging and testing servers that aren't accessible to untrusted networks, such as the Internet.</span></span>

## <a name="configuration-of-iis-with-webconfig"></a><span data-ttu-id="ef5ec-208">Configurazione di IIS con `web.config`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-208">Configuration of IIS with `web.config`</span></span>

<span data-ttu-id="ef5ec-209">La configurazione di IIS è influenzata dalla `<system.webServer>` sezione di `web.config` per gli scenari IIS funzionali per ASP.NET Core app con il modulo di ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-209">IIS configuration is influenced by the `<system.webServer>` section of `web.config` for IIS scenarios that are functional for ASP.NET Core apps with the ASP.NET Core Module.</span></span> <span data-ttu-id="ef5ec-210">Ad esempio, la configurazione di IIS è funzionale per la compressione dinamica.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-210">For example, IIS configuration is functional for dynamic compression.</span></span> <span data-ttu-id="ef5ec-211">Se IIS è configurato a livello di server per usare la compressione dinamica, l' `<urlCompression>` elemento nel file dell'app `web.config` può disabilitarlo per un'app ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-211">If IIS is configured at the server level to use dynamic compression, the `<urlCompression>` element in the app's `web.config` file can disable it for an ASP.NET Core app.</span></span>

<span data-ttu-id="ef5ec-212">Per altre informazioni, vedere i seguenti argomenti:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-212">For more information, see the following topics:</span></span>

* [<span data-ttu-id="ef5ec-213">Riferimento alla configurazione per `<system.webServer>`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-213">Configuration reference for `<system.webServer>`</span></span>](/iis/configuration/system.webServer/)
* <xref:host-and-deploy/aspnet-core-module>
* <xref:host-and-deploy/iis/modules>

<span data-ttu-id="ef5ec-214">Per impostare le variabili di ambiente per singole app in esecuzione in pool di applicazioni isolate (supportate per IIS 10,0 o versioni successive), vedere la sezione *`AppCmd.exe` comando* dell'argomento [variabili `<environmentVariables>` di ambiente](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) nella documentazione di riferimento di IIS.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-214">To set environment variables for individual apps running in isolated app pools (supported for IIS 10.0 or later), see the *`AppCmd.exe` command* section of the [Environment Variables `<environmentVariables>`](/iis/configuration/system.applicationHost/applicationPools/add/environmentVariables/#appcmdexe) topic in the IIS reference documentation.</span></span>

## <a name="configuration-sections-of-webconfig"></a><span data-ttu-id="ef5ec-215">Sezioni di configurazione di `web.config`</span><span class="sxs-lookup"><span data-stu-id="ef5ec-215">Configuration sections of `web.config`</span></span>

<span data-ttu-id="ef5ec-216">Le sezioni di configurazione delle app ASP.NET 4. x in `web.config` non vengono usate dalle app ASP.NET Core per la configurazione:</span><span class="sxs-lookup"><span data-stu-id="ef5ec-216">Configuration sections of ASP.NET 4.x apps in `web.config` aren't used by ASP.NET Core apps for configuration:</span></span>

* `<system.web>`
* `<appSettings>`
* `<connectionStrings>`
* `<location>`

<span data-ttu-id="ef5ec-217">Le applicazioni ASP.NET Core vengono configurate tramite altri provider di configurazione.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-217">ASP.NET Core apps are configured using other configuration providers.</span></span> <span data-ttu-id="ef5ec-218">Per ulteriori informazioni, vedere [configurazione](xref:fundamentals/configuration/index).</span><span class="sxs-lookup"><span data-stu-id="ef5ec-218">For more information, see [Configuration](xref:fundamentals/configuration/index).</span></span>

## <a name="transform-webconfig"></a><span data-ttu-id="ef5ec-219">Trasformare web.config</span><span class="sxs-lookup"><span data-stu-id="ef5ec-219">Transform web.config</span></span>

<span data-ttu-id="ef5ec-220">Se è necessario eseguire la trasformazione `web.config` alla pubblicazione, vedere <xref:host-and-deploy/iis/transform-webconfig> .</span><span class="sxs-lookup"><span data-stu-id="ef5ec-220">If you need to transform `web.config` on publish, see <xref:host-and-deploy/iis/transform-webconfig>.</span></span> <span data-ttu-id="ef5ec-221">Potrebbe essere necessario trasformare `web.config` in pubblicazione per impostare le variabili di ambiente in base alla configurazione, al profilo o all'ambiente.</span><span class="sxs-lookup"><span data-stu-id="ef5ec-221">You might need to transform `web.config` on publish to set environment variables based on the configuration, profile, or environment.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="ef5ec-222">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="ef5ec-222">Additional resources</span></span>

* [<span data-ttu-id="ef5ec-223">IIS \<system.webServer></span><span class="sxs-lookup"><span data-stu-id="ef5ec-223">IIS \<system.webServer></span></span>](/iis/configuration/system.webServer/)
* <xref:host-and-deploy/iis/modules>
* <xref:host-and-deploy/iis/transform-webconfig>
