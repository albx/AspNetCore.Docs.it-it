---
<span data-ttu-id="14ea4-101">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-101">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-102">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-102">'Blazor'</span></span>
- <span data-ttu-id="14ea4-103">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-103">'Identity'</span></span>
- <span data-ttu-id="14ea4-104">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-104">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-105">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-105">'Razor'</span></span>
- <span data-ttu-id="14ea4-106">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-106">'SignalR' uid:</span></span> 

---
# <a name="host-aspnet-core-in-a-web-farm"></a><span data-ttu-id="14ea4-107">Ospitare ASP.NET Core in una Web farm</span><span class="sxs-lookup"><span data-stu-id="14ea4-107">Host ASP.NET Core in a web farm</span></span>

<span data-ttu-id="14ea4-108">Di [Chris Ross](https://github.com/Tratcher)</span><span class="sxs-lookup"><span data-stu-id="14ea4-108">By [Chris Ross](https://github.com/Tratcher)</span></span>

<span data-ttu-id="14ea4-109">Una *Web farm* è un gruppo di due o più server Web (o *nodi*) che ospita più istanze di un'app.</span><span class="sxs-lookup"><span data-stu-id="14ea4-109">A *web farm* is a group of two or more web servers (or *nodes*) that host multiple instances of an app.</span></span> <span data-ttu-id="14ea4-110">Quando arrivano richieste dagli utenti per una Web farm, un servizio di *bilanciamento del carico* distribuisce le richieste ai nodi della Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-110">When requests from users arrive to a web farm, a *load balancer* distributes the requests to the web farm's nodes.</span></span> <span data-ttu-id="14ea4-111">Le Web farm consentono di migliorare:</span><span class="sxs-lookup"><span data-stu-id="14ea4-111">Web farms improve:</span></span>

* <span data-ttu-id="14ea4-112">**Affidabilità/disponibilità**: quando uno o più nodi hanno esito negativo, il servizio di bilanciamento del carico può instradare le richieste ad altri nodi funzionanti per continuare a elaborare le richieste.</span><span class="sxs-lookup"><span data-stu-id="14ea4-112">**Reliability/availability**: When one or more nodes fail, the load balancer can route requests to other functioning nodes to continue processing requests.</span></span>
* <span data-ttu-id="14ea4-113">**Capacità/prestazioni**: più nodi possono elaborare più richieste rispetto a un singolo server.</span><span class="sxs-lookup"><span data-stu-id="14ea4-113">**Capacity/performance**: Multiple nodes can process more requests than a single server.</span></span> <span data-ttu-id="14ea4-114">Il servizio di bilanciamento del carico consente di bilanciare il carico di lavoro distribuendo le richieste ai nodi.</span><span class="sxs-lookup"><span data-stu-id="14ea4-114">The load balancer balances the workload by distributing requests to the nodes.</span></span>
* <span data-ttu-id="14ea4-115">**Scalabilità**: quando è necessaria una capacità maggiore o minore, il numero di nodi attivi può essere aumentato o ridotto in base al carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="14ea4-115">**Scalability**: When more or less capacity is required, the number of active nodes can be increased or decreased to match the workload.</span></span> <span data-ttu-id="14ea4-116">Le tecnologie della piattaforma per le Web farm, ad esempio [Servizio app di Azure](https://azure.microsoft.com/services/app-service/), possono aggiungere o rimuovere automaticamente nodi su richiesta dell'amministratore di sistema o automaticamente senza intervento umano.</span><span class="sxs-lookup"><span data-stu-id="14ea4-116">Web farm platform technologies, such as [Azure App Service](https://azure.microsoft.com/services/app-service/), can automatically add or remove nodes at the request of the system administrator or automatically without human intervention.</span></span>
* <span data-ttu-id="14ea4-117">**Gestibilità**: i nodi di un Web farm possono basarsi su un set di servizi condivisi, semplificando la gestione del sistema.</span><span class="sxs-lookup"><span data-stu-id="14ea4-117">**Maintainability**: Nodes of a web farm can rely on a set of shared services, which results in easier system management.</span></span> <span data-ttu-id="14ea4-118">Ad esempio, i nodi di una Web farm possono basarsi su un singolo server di database e un percorso di rete comune per le risorse statiche, ad esempio immagini e file scaricabili.</span><span class="sxs-lookup"><span data-stu-id="14ea4-118">For example, the nodes of a web farm can rely upon a single database server and a common network location for static resources, such as images and downloadable files.</span></span>

<span data-ttu-id="14ea4-119">Questo argomento descrive la configurazione e le dipendenze per le app ASP.NET Core ospitate in una Web farm che si basano su risorse condivise.</span><span class="sxs-lookup"><span data-stu-id="14ea4-119">This topic describes configuration and dependencies for ASP.NET core apps hosted in a web farm that rely upon shared resources.</span></span>

## <a name="general-configuration"></a><span data-ttu-id="14ea4-120">Configurazione generale</span><span class="sxs-lookup"><span data-stu-id="14ea4-120">General configuration</span></span>

<xref:host-and-deploy/index>  
<span data-ttu-id="14ea4-121">Informazioni sulla configurazione degli ambienti host e sulla distribuzione delle app ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="14ea4-121">Learn how to set up hosting environments and deploy ASP.NET Core apps.</span></span> <span data-ttu-id="14ea4-122">Configurare un gestore di processi in ogni nodo della Web farm per automatizzare avvii e riavvii dell'app.</span><span class="sxs-lookup"><span data-stu-id="14ea4-122">Configure a process manager on each node of the web farm to automate app starts and restarts.</span></span> <span data-ttu-id="14ea4-123">Ogni nodo richiede il runtime di ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="14ea4-123">Each node requires the ASP.NET Core runtime.</span></span> <span data-ttu-id="14ea4-124">Per altre informazioni, vedere gli argomenti nell'area [Ospitare e distribuire](xref:host-and-deploy/index) della documentazione.</span><span class="sxs-lookup"><span data-stu-id="14ea4-124">For more information, see the topics in the [Host and deploy](xref:host-and-deploy/index) area of the documentation.</span></span>

<xref:host-and-deploy/proxy-load-balancer>  
<span data-ttu-id="14ea4-125">Informazioni sulla configurazione per le app ospitate dietro server proxy e servizi di bilanciamento del carico, che spesso nascondono informazioni importanti sulle richieste.</span><span class="sxs-lookup"><span data-stu-id="14ea4-125">Learn about configuration for apps hosted behind proxy servers and load balancers, which often obscure important request information.</span></span>

<xref:host-and-deploy/azure-apps/index>  
<span data-ttu-id="14ea4-126">Il [servizio app di Azure](https://azure.microsoft.com/services/app-service/) è un [servizio di piattaforma di cloud computing Microsoft](https://azure.microsoft.com/) per l'hosting di app Web, inclusa ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="14ea4-126">[Azure App Service](https://azure.microsoft.com/services/app-service/) is a [Microsoft cloud computing platform service](https://azure.microsoft.com/) for hosting web apps, including ASP.NET Core.</span></span> <span data-ttu-id="14ea4-127">Servizio app è una piattaforma completamente gestita che offre scalabilità automatica, bilanciamento del carico, applicazione di patch e distribuzione continua.</span><span class="sxs-lookup"><span data-stu-id="14ea4-127">App Service is a fully managed platform that provides automatic scaling, load balancing, patching, and continuous deployment.</span></span>

## <a name="app-data"></a><span data-ttu-id="14ea4-128">Dati dell'app</span><span class="sxs-lookup"><span data-stu-id="14ea4-128">App data</span></span>

<span data-ttu-id="14ea4-129">Quando un'app viene distribuita su più istanze, potrebbe essere necessario condividere informazioni sullo stato dell'app tra i nodi.</span><span class="sxs-lookup"><span data-stu-id="14ea4-129">When an app is scaled to multiple instances, there might be app state that requires sharing across nodes.</span></span> <span data-ttu-id="14ea4-130">Se lo stato è temporaneo, valutare la condivisione di una [IDistributedCache](/dotnet/api/microsoft.extensions.caching.distributed.idistributedcache).</span><span class="sxs-lookup"><span data-stu-id="14ea4-130">If the state is transient, consider sharing an [IDistributedCache](/dotnet/api/microsoft.extensions.caching.distributed.idistributedcache).</span></span> <span data-ttu-id="14ea4-131">Se lo stato condiviso deve essere persistente, valutare la possibilità di archiviare lo stato condiviso in un database.</span><span class="sxs-lookup"><span data-stu-id="14ea4-131">If the shared state requires persistence, consider storing the shared state in a database.</span></span>

## <a name="required-configuration"></a><span data-ttu-id="14ea4-132">Configurazione necessaria</span><span class="sxs-lookup"><span data-stu-id="14ea4-132">Required configuration</span></span>

<span data-ttu-id="14ea4-133">Occorre configurare la protezione dei dati e la memorizzazione nella cache per le app distribuite in una Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-133">Data Protection and Caching require configuration for apps deployed to a web farm.</span></span>

### <a name="data-protection"></a><span data-ttu-id="14ea4-134">Protezione dei dati</span><span class="sxs-lookup"><span data-stu-id="14ea4-134">Data Protection</span></span>

<span data-ttu-id="14ea4-135">Il [sistema di protezione dei dati di ASP.NET Core](xref:security/data-protection/introduction) viene usato dalle app per proteggere i dati.</span><span class="sxs-lookup"><span data-stu-id="14ea4-135">The [ASP.NET Core Data Protection system](xref:security/data-protection/introduction) is used by apps to protect data.</span></span> <span data-ttu-id="14ea4-136">La protezione dei dati si basa su un set di chiavi di crittografia archiviate in un *KeyRing*.</span><span class="sxs-lookup"><span data-stu-id="14ea4-136">Data Protection relies upon a set of cryptographic keys stored in a *key ring*.</span></span> <span data-ttu-id="14ea4-137">Quando il sistema di protezione dei dati viene inizializzato, vengono applicate le [impostazioni predefinite](xref:security/data-protection/configuration/default-settings) che archiviano il KeyRing in locale.</span><span class="sxs-lookup"><span data-stu-id="14ea4-137">When the Data Protection system is initialized, it applies [default settings](xref:security/data-protection/configuration/default-settings) that store the key ring locally.</span></span> <span data-ttu-id="14ea4-138">In base alla configurazione predefinita, viene archiviato un unico KeyRing in ogni nodo della Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-138">Under the default configuration, a unique key ring is stored on each node of the web farm.</span></span> <span data-ttu-id="14ea4-139">Di conseguenza, ogni nodo della Web farm non può decrittografare i dati crittografati da un'app su qualsiasi altro nodo.</span><span class="sxs-lookup"><span data-stu-id="14ea4-139">Consequently, each web farm node can't decrypt data that's encrypted by an app on any other node.</span></span> <span data-ttu-id="14ea4-140">La configurazione predefinita non è in genere adatta per l'hosting di app in una Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-140">The default configuration isn't generally appropriate for hosting apps in a web farm.</span></span> <span data-ttu-id="14ea4-141">In alternativa all'implementazione di un KeyRing condiviso, è sempre possibile indirizzare le richieste utente allo stesso nodo.</span><span class="sxs-lookup"><span data-stu-id="14ea4-141">An alternative to implementing a shared key ring is to always route user requests to the same node.</span></span> <span data-ttu-id="14ea4-142">Per altre informazioni sulla configurazione del sistema di protezione dei dati per le distribuzioni di Web farm, vedere <xref:security/data-protection/configuration/overview>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-142">For more information on Data Protection system configuration for web farm deployments, see <xref:security/data-protection/configuration/overview>.</span></span>

### <a name="caching"></a><span data-ttu-id="14ea4-143">Memorizzazione nella cache</span><span class="sxs-lookup"><span data-stu-id="14ea4-143">Caching</span></span>

<span data-ttu-id="14ea4-144">In un ambiente Web farm, il meccanismo di memorizzazione nella cache deve condividere gli elementi memorizzati nella cache tra i nodi della Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-144">In a web farm environment, the caching mechanism must share cached items across the web farm's nodes.</span></span> <span data-ttu-id="14ea4-145">La memorizzazione nella cache deve basarsi su una cache Redis comune, un database di SQL Server condiviso o un'implementazione personalizzata di memorizzazione nella cache che condivide gli elementi memorizzati nella cache nella Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-145">Caching must either rely upon a common Redis cache, a shared SQL Server database, or a custom caching implementation that shares cached items across the web farm.</span></span> <span data-ttu-id="14ea4-146">Per altre informazioni, vedere <xref:performance/caching/distributed>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-146">For more information, see <xref:performance/caching/distributed>.</span></span>

## <a name="dependent-components"></a><span data-ttu-id="14ea4-147">Componenti dipendenti</span><span class="sxs-lookup"><span data-stu-id="14ea4-147">Dependent components</span></span>

<span data-ttu-id="14ea4-148">Gli scenari seguenti non richiedono configurazioni aggiuntive, ma dipendono da tecnologie che devono essere configurate per le Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-148">The following scenarios don't require additional configuration, but they depend on technologies that require configuration for web farms.</span></span>

| <span data-ttu-id="14ea4-149">Scenario</span><span class="sxs-lookup"><span data-stu-id="14ea4-149">Scenario</span></span> | <span data-ttu-id="14ea4-150">Dipende da &hellip;</span><span class="sxs-lookup"><span data-stu-id="14ea4-150">Depends on &hellip;</span></span> |
| ---
<span data-ttu-id="14ea4-151">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-151">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-152">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-152">'Blazor'</span></span>
- <span data-ttu-id="14ea4-153">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-153">'Identity'</span></span>
- <span data-ttu-id="14ea4-154">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-154">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-155">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-155">'Razor'</span></span>
- <span data-ttu-id="14ea4-156">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-156">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-157">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-157">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-158">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-158">'Blazor'</span></span>
- <span data-ttu-id="14ea4-159">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-159">'Identity'</span></span>
- <span data-ttu-id="14ea4-160">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-160">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-161">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-161">'Razor'</span></span>
- <span data-ttu-id="14ea4-162">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-162">'SignalR' uid:</span></span> 

<span data-ttu-id="14ea4-163">---- | Titolo---: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-163">---- | --- title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-164">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-164">'Blazor'</span></span>
- <span data-ttu-id="14ea4-165">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-165">'Identity'</span></span>
- <span data-ttu-id="14ea4-166">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-166">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-167">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-167">'Razor'</span></span>
- <span data-ttu-id="14ea4-168">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-168">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-169">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-169">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-170">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-170">'Blazor'</span></span>
- <span data-ttu-id="14ea4-171">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-171">'Identity'</span></span>
- <span data-ttu-id="14ea4-172">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-172">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-173">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-173">'Razor'</span></span>
- <span data-ttu-id="14ea4-174">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-174">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-175">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-175">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-176">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-176">'Blazor'</span></span>
- <span data-ttu-id="14ea4-177">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-177">'Identity'</span></span>
- <span data-ttu-id="14ea4-178">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-178">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-179">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-179">'Razor'</span></span>
- <span data-ttu-id="14ea4-180">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-180">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-181">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-181">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-182">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-182">'Blazor'</span></span>
- <span data-ttu-id="14ea4-183">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-183">'Identity'</span></span>
- <span data-ttu-id="14ea4-184">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-184">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-185">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-185">'Razor'</span></span>
- <span data-ttu-id="14ea4-186">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-186">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-187">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-187">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-188">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-188">'Blazor'</span></span>
- <span data-ttu-id="14ea4-189">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-189">'Identity'</span></span>
- <span data-ttu-id="14ea4-190">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-190">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-191">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-191">'Razor'</span></span>
- <span data-ttu-id="14ea4-192">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-192">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-193">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-193">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-194">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-194">'Blazor'</span></span>
- <span data-ttu-id="14ea4-195">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-195">'Identity'</span></span>
- <span data-ttu-id="14ea4-196">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-196">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-197">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-197">'Razor'</span></span>
- <span data-ttu-id="14ea4-198">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-198">'SignalR' uid:</span></span> 

-
<span data-ttu-id="14ea4-199">title: autore: Descrizione: monikerRange: ms. Author: ms. Custom: ms. Date: No-loc:</span><span class="sxs-lookup"><span data-stu-id="14ea4-199">title: author: description: monikerRange: ms.author: ms.custom: ms.date: no-loc:</span></span>
- <span data-ttu-id="14ea4-200">'Blazor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-200">'Blazor'</span></span>
- <span data-ttu-id="14ea4-201">'Identity'</span><span class="sxs-lookup"><span data-stu-id="14ea4-201">'Identity'</span></span>
- <span data-ttu-id="14ea4-202">'Let's Encrypt'</span><span class="sxs-lookup"><span data-stu-id="14ea4-202">'Let's Encrypt'</span></span>
- <span data-ttu-id="14ea4-203">'Razor'</span><span class="sxs-lookup"><span data-stu-id="14ea4-203">'Razor'</span></span>
- <span data-ttu-id="14ea4-204">SignalRUID '':</span><span class="sxs-lookup"><span data-stu-id="14ea4-204">'SignalR' uid:</span></span> 

<span data-ttu-id="14ea4-205">---------- | | Autenticazione | Protezione dei dati (vedere <xref:security/data-protection/configuration/overview> ).</span><span class="sxs-lookup"><span data-stu-id="14ea4-205">---------- | | Authentication | Data Protection (see <xref:security/data-protection/configuration/overview>).</span></span><br><br><span data-ttu-id="14ea4-206">Per altre informazioni, vedere <xref:security/authentication/cookie> e <xref:security/cookie-sharing>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-206">For more information, see <xref:security/authentication/cookie> and <xref:security/cookie-sharing>.</span></span> <span data-ttu-id="14ea4-207">| | Identity | Autenticazione e configurazione del database.</span><span class="sxs-lookup"><span data-stu-id="14ea4-207">| | Identity | Authentication and database configuration.</span></span><br><br><span data-ttu-id="14ea4-208">Per altre informazioni, vedere <xref:security/authentication/identity>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-208">For more information, see <xref:security/authentication/identity>.</span></span> <span data-ttu-id="14ea4-209">| | Sessione | Protezione dei dati (cookie crittografati) (vedere <xref:security/data-protection/configuration/overview> ) e caching (vedere <xref:performance/caching/distributed> ).</span><span class="sxs-lookup"><span data-stu-id="14ea4-209">| | Session | Data Protection (encrypted cookies) (see <xref:security/data-protection/configuration/overview>) and Caching (see <xref:performance/caching/distributed>).</span></span><br><br><span data-ttu-id="14ea4-210">Per ulteriori informazioni, vedere [sessione e gestione dello stato: stato della sessione](xref:fundamentals/app-state#session-state).</span><span class="sxs-lookup"><span data-stu-id="14ea4-210">For more information, see [Session and state management: Session state](xref:fundamentals/app-state#session-state).</span></span> <span data-ttu-id="14ea4-211">| | TempData | Protezione dei dati (cookie crittografati) (vedere <xref:security/data-protection/configuration/overview> ) o sessione (vedere [gestione di sessioni e Stati: stato sessione](xref:fundamentals/app-state#session-state)).</span><span class="sxs-lookup"><span data-stu-id="14ea4-211">| | TempData | Data Protection (encrypted cookies) (see <xref:security/data-protection/configuration/overview>) or Session (see [Session and state management: Session state](xref:fundamentals/app-state#session-state)).</span></span><br><br><span data-ttu-id="14ea4-212">Per ulteriori informazioni, vedere [gestione delle sessioni e dello stato: TempData](xref:fundamentals/app-state#tempdata).</span><span class="sxs-lookup"><span data-stu-id="14ea4-212">For more information, see [Session and state management: TempData](xref:fundamentals/app-state#tempdata).</span></span> <span data-ttu-id="14ea4-213">| | Anti-falsificazione | Protezione dei dati (vedere <xref:security/data-protection/configuration/overview> ).</span><span class="sxs-lookup"><span data-stu-id="14ea4-213">| | Anti-forgery | Data Protection (see <xref:security/data-protection/configuration/overview>).</span></span><br><br><span data-ttu-id="14ea4-214">Per altre informazioni, vedere <xref:security/anti-request-forgery>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-214">For more information, see <xref:security/anti-request-forgery>.</span></span> |

## <a name="troubleshoot"></a><span data-ttu-id="14ea4-215">Risolvere problemi</span><span class="sxs-lookup"><span data-stu-id="14ea4-215">Troubleshoot</span></span>

### <a name="data-protection-and-caching"></a><span data-ttu-id="14ea4-216">Protezione dei dati e memorizzazione nella cache</span><span class="sxs-lookup"><span data-stu-id="14ea4-216">Data Protection and caching</span></span>

<span data-ttu-id="14ea4-217">Quando la protezione dei dati o la memorizzazione nella cache non è configurata per un ambiente Web farm, si verificano errori intermittenti durante l'elaborazione delle richieste.</span><span class="sxs-lookup"><span data-stu-id="14ea4-217">When Data Protection or caching isn't configured for a web farm environment, intermittent errors occur when requests are processed.</span></span> <span data-ttu-id="14ea4-218">Ciò si verifica perché i nodi non condividono le stesse risorse e le richieste degli utenti non vengono sempre indirizzate allo stesso nodo.</span><span class="sxs-lookup"><span data-stu-id="14ea4-218">This occurs because nodes don't share the same resources and user requests aren't always routed back to the same node.</span></span>

<span data-ttu-id="14ea4-219">Si consideri, ad esempio, un utente che accede all'app usando l'autenticazione basata su cookie.</span><span class="sxs-lookup"><span data-stu-id="14ea4-219">Consider a user who signs into the app using cookie authentication.</span></span> <span data-ttu-id="14ea4-220">L'utente acceda all'app in un nodo della Web farm.</span><span class="sxs-lookup"><span data-stu-id="14ea4-220">The user signs into the app on one web farm node.</span></span> <span data-ttu-id="14ea4-221">Se la richiesta successiva dell'utente arriva nello stesso nodo in cui ha eseguito l'accesso, l'app è in grado di decrittografare il cookie di autenticazione e consente l'accesso alla risorsa dell'app.</span><span class="sxs-lookup"><span data-stu-id="14ea4-221">If their next request arrives at the same node where they signed in, the app is able to decrypt the authentication cookie and allows access to the app's resource.</span></span> <span data-ttu-id="14ea4-222">Se la richiesta successiva arriva a un nodo diverso, l'app non può decrittografare il cookie di autenticazione dal nodo in cui l'utente ha eseguito l'accesso e l'autorizzazione per la risorsa richiesta ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="14ea4-222">If their next request arrives at a different node, the app can't decrypt the authentication cookie from the node where the user signed in, and authorization for the requested resource fails.</span></span>

<span data-ttu-id="14ea4-223">Quando si verificano **intermittenti**di uno dei seguenti sintomi, il problema viene in genere tracciato a una configurazione di protezione dei dati o di memorizzazione nella cache non corretta per un ambiente Web farm:</span><span class="sxs-lookup"><span data-stu-id="14ea4-223">When any of the following symptoms occur **intermittently**, the problem is usually traced to improper Data Protection or caching configuration for a web farm environment:</span></span>

* <span data-ttu-id="14ea4-224">Interruzioni di autenticazione: il cookie di autenticazione non è configurato correttamente o non può essere decrittografato.</span><span class="sxs-lookup"><span data-stu-id="14ea4-224">Authentication breaks: The authentication cookie is misconfigured or can't be decrypted.</span></span> <span data-ttu-id="14ea4-225">Gli accessi OAuth (Facebook, Microsoft, Twitter) o OpenIdConnect non riescono con l'errore "Correlazione non riuscita."</span><span class="sxs-lookup"><span data-stu-id="14ea4-225">OAuth (Facebook, Microsoft, Twitter) or OpenIdConnect logins fail with the error "Correlation failed."</span></span>
* <span data-ttu-id="14ea4-226">Interruzioni di autorizzazione: Identity viene persa.</span><span class="sxs-lookup"><span data-stu-id="14ea4-226">Authorization breaks: Identity is lost.</span></span>
* <span data-ttu-id="14ea4-227">Perdita dei dati per lo stato della sessione.</span><span class="sxs-lookup"><span data-stu-id="14ea4-227">Session state loses data.</span></span>
* <span data-ttu-id="14ea4-228">Gli elementi memorizzati nella cache scompaiono.</span><span class="sxs-lookup"><span data-stu-id="14ea4-228">Cached items disappear.</span></span>
* <span data-ttu-id="14ea4-229">Errore di TempData.</span><span class="sxs-lookup"><span data-stu-id="14ea4-229">TempData fails.</span></span>
* <span data-ttu-id="14ea4-230">I post hanno esito negativo: il controllo anti-falsificazione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="14ea4-230">POSTs fail: The anti-forgery check fails.</span></span>

<span data-ttu-id="14ea4-231">Per altre informazioni sulla configurazione della protezione dei dati per le distribuzioni di Web farm, vedere <xref:security/data-protection/configuration/overview>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-231">For more information on Data Protection configuration for web farm deployments, see <xref:security/data-protection/configuration/overview>.</span></span> <span data-ttu-id="14ea4-232">Per altre informazioni sulla configurazione della memorizzazione nella cache per le distribuzioni di Web farm, vedere <xref:performance/caching/distributed>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-232">For more information on caching configuration for web farm deployments, see <xref:performance/caching/distributed>.</span></span>

## <a name="obtain-data-from-apps"></a><span data-ttu-id="14ea4-233">Ottenere dati dalle app</span><span class="sxs-lookup"><span data-stu-id="14ea4-233">Obtain data from apps</span></span>

<span data-ttu-id="14ea4-234">Se le app della Web farm sono in grado di rispondere alle richieste, è possibile ottenere dati sulle richieste, le connessioni e altri dati dalle app tramite middleware inline di terminale.</span><span class="sxs-lookup"><span data-stu-id="14ea4-234">If the web farm apps are capable of responding to requests, obtain request, connection, and additional data from the apps using terminal inline middleware.</span></span> <span data-ttu-id="14ea4-235">Per altre informazioni e codice di esempio, vedere <xref:test/troubleshoot#obtain-data-from-an-app>.</span><span class="sxs-lookup"><span data-stu-id="14ea4-235">For more information and sample code, see <xref:test/troubleshoot#obtain-data-from-an-app>.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="14ea4-236">Risorse aggiuntive</span><span class="sxs-lookup"><span data-stu-id="14ea4-236">Additional resources</span></span>

* <span data-ttu-id="14ea4-237">[Estensione script personalizzata per Windows](/azure/virtual-machines/extensions/custom-script-windows): Scarica ed esegue script in macchine virtuali di Azure, utile per la configurazione post-distribuzione e l'installazione del software.</span><span class="sxs-lookup"><span data-stu-id="14ea4-237">[Custom Script Extension for Windows](/azure/virtual-machines/extensions/custom-script-windows): Downloads and executes scripts on Azure virtual machines, which is useful for post-deployment configuration and software installation.</span></span>
* <xref:host-and-deploy/proxy-load-balancer>
 